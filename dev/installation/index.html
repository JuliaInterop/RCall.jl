<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · RCall.jl</title><meta name="title" content="Installation · RCall.jl"/><meta property="og:title" content="Installation · RCall.jl"/><meta property="twitter:title" content="Installation · RCall.jl"/><meta name="description" content="Documentation for RCall.jl."/><meta property="og:description" content="Documentation for RCall.jl."/><meta property="twitter:description" content="Documentation for RCall.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RCall.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li class="is-active"><a class="tocitem" href>Installation</a><ul class="internal"><li><a class="tocitem" href="#Customizing-the-R-installation"><span>Customizing the R installation</span></a></li><li><a class="tocitem" href="#Standard-installations"><span>Standard installations</span></a></li><li><a class="tocitem" href="#Updating-R"><span>Updating R</span></a></li></ul></li><li><a class="tocitem" href="../gettingstarted/">Getting Started</a></li><li><a class="tocitem" href="../conversions/">Supported Conversions</a></li><li><a class="tocitem" href="../custom/">Custom Conversion</a></li><li><a class="tocitem" href="../eventloop/">Eventloop</a></li><li><a class="tocitem" href="../known-issues/">Known issues</a></li><li><a class="tocitem" href="../internal/">Internal</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Installation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Installation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaInterop/RCall.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaInterop/RCall.jl/blob/main/docs/src/installation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Installing-RCall.jl"><a class="docs-heading-anchor" href="#Installing-RCall.jl">Installing RCall.jl</a><a id="Installing-RCall.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-RCall.jl" title="Permalink"></a></h1><p>RCall.jl can simply be installed with</p><pre><code class="language-julia hljs">Pkg.add(&quot;RCall&quot;)</code></pre><h2 id="Customizing-the-R-installation"><a class="docs-heading-anchor" href="#Customizing-the-R-installation">Customizing the R installation</a><a id="Customizing-the-R-installation-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-the-R-installation" title="Permalink"></a></h2><p>There are two ways to configure the R installation used by RCall.jl:</p><ul><li><a href="#Customizing-the-R-installation-using-Julia&#39;s-Preferences-system">Using Julia&#39;s Preferences system</a></li><li><a href="#Customizing-the-R-installation-using-R_HOME">At RCall.jl install time, or when manually re-building RCall.jl, using the <code>R_HOME</code> environment variable</a></li></ul><p>Should you experience problems with any of these methods, please <a href="https://github.com/JuliaStats/RCall.jl/issues/new">open an issue</a>.</p><h3 id="Customizing-the-R-installation-using-Julia&#39;s-Preferences-system"><a class="docs-heading-anchor" href="#Customizing-the-R-installation-using-Julia&#39;s-Preferences-system">Customizing the R installation using Julia&#39;s Preferences system</a><a id="Customizing-the-R-installation-using-Julia&#39;s-Preferences-system-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-the-R-installation-using-Julia&#39;s-Preferences-system" title="Permalink"></a></h3><p>You can customize the R installation using <a href="https://docs.julialang.org/en/v1/manual/code-loading/#preferences">Julia&#39;s Preferences system</a> by providing appropriate paths using RCall&#39;s <code>Rhome</code> and <code>libR</code> preferences. Julia&#39;s Preferences system allows these to be set in a few different ways. One possibility is to add the following to a <code>LocalPreferences.toml</code> file in the same directory as a project&#39;s <code>Project.toml</code> file:</p><pre><code class="language-toml hljs">[RCall]
Rhome = &quot;/path/to/env/lib/R&quot;
libR = &quot;/path/to/env/lib/R/lib/libR.so&quot;</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>When these preferences are set, they take precedence over the R installation configured using the <code>R_HOME</code> environment variable when RCall.jl was last built.</p></div></div><h4 id="(Experimental)-Usage-with-CondaPkg"><a class="docs-heading-anchor" href="#(Experimental)-Usage-with-CondaPkg">(Experimental) Usage with CondaPkg</a><a id="(Experimental)-Usage-with-CondaPkg-1"></a><a class="docs-heading-anchor-permalink" href="#(Experimental)-Usage-with-CondaPkg" title="Permalink"></a></h4><p>Unlike <a href="#Customizing-the-R-installation-using-R_HOME">customizing the R installation using <code>R_HOME</code></a>, the Preferences-based approach allows for each of your Julia projects using RCall.jl to use a different R installation. As such, it is appropriate for when you want to install and manage R with <a href="https://github.com/JuliaPy/CondaPkg.jl">CondaPkg</a>. Assuming that RCall and CondaPkg are installed, the following script will install a CondaPkg-managed R and set the correct preferences so that RCall.jl will make use of it.</p><pre><code class="nohighlight hljs">using Libdl
using CondaPkg
using Preferences
using UUIDs

const RCALL_UUID = UUID(&quot;6f49c342-dc21-5d91-9882-a32aef131414&quot;)

CondaPkg.add(&quot;r&quot;)
target_rhome = joinpath(CondaPkg.envdir(), &quot;lib&quot;, &quot;R&quot;)
if Sys.iswindows()
    target_libr = joinpath(target_rhome, &quot;bin&quot;, Sys.WORD_SIZE==64 ? &quot;x64&quot; : &quot;i386&quot;, &quot;R.dll&quot;)
else
    target_libr = joinpath(target_rhome, &quot;lib&quot;, &quot;libR.$(Libdl.dlext)&quot;)
end
set_preferences!(RCALL_UUID, &quot;Rhome&quot; =&gt; target_rhome, &quot;libR&quot; =&gt; target_libr)</code></pre><p>So that CondaPkg managed R finds the correct versions of its shared library dependencies, such as BLAS, you must arrange for the Conda environment to be active when <code>RCall</code> is imported so that native library loading paths are set up correctly. If you do not do so, it is still possible that things will appear to work correctly if compatible versions are available from elsewhere in your library loading path, but the resulting code can break in some environments and so is not portable.</p><p>At the moment there are two options for arranging for this:</p><ol><li>(Recommended) Use <code>CondaPkg.activate!(ENV)</code> to permanently modify the environment <em>before</em> loading RCall.</li><li>(Experimental) Use <code>CondaPkg.withenv()</code> to change the environment while loading RCall/R and R libraries using native code. After the <code>CondaPkg.withenv()</code> block, the Conda environment will no longer be active. This approach may be needed if you need to return to a unmodified environment after loading R. Note this approach has not been thouroughly tested and may not work with all R packages.</li></ol><pre><code class="language-julia hljs">RCall = CondaPkg.withenv() do
    RCall = @eval using RCall
    # Load all R libraries that may load native code from the Conda environment here
    return RCall
end</code></pre><h3 id="Customizing-the-R-installation-using-R_HOME"><a class="docs-heading-anchor" href="#Customizing-the-R-installation-using-R_HOME">Customizing the R installation using <code>R_HOME</code></a><a id="Customizing-the-R-installation-using-R_HOME-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-the-R-installation-using-R_HOME" title="Permalink"></a></h3><p>The RCall build script (run by <code>Pkg.add(...)</code> or <code>Pkg.build(...)</code>) will check for an existing R installation by looking in the following locations, in order.</p><ul><li>The <code>R_HOME</code> environment variable, if set, should be the location of the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Rhome.html">R home directory</a>. You could run <code>R.home()</code> in <code>R</code> to determine its location.</li><li>Otherwise, it runs the <code>R RHOME</code> command, assuming <code>R</code> is located in your <a href="https://en.wikipedia.org/wiki/PATH_(variable)"><code>PATH</code></a>.</li><li>Otherwise, on Windows, it looks in the <a href="https://cran.r-project.org/bin/windows/base/rw-FAQ.html#Does-R-use-the-Registry_003f">Windows registry</a>.</li></ul><p>To change which R installation is used for RCall, set the <code>R_HOME</code> environment variable and run <code>Pkg.build(&quot;RCall&quot;)</code>. Once this is configured, RCall remembers the location of R in future updates, so you don&#39;t need to set <code>R_HOME</code> permanently.</p><pre><code class="language-julia hljs">ENV[&quot;R_HOME&quot;] = &quot;....directory of R home....&quot;
Pkg.build(&quot;RCall&quot;)</code></pre><p>As well as being setting <code>R_HOME</code> to a path, it can also be set to certain special values:</p><ul><li>When <code>R_HOME=&quot;*&quot;</code>, RCall.jl will automatically install R for you using <a href="https://github.com/JuliaPy/Conda.jl">Conda</a>.</li><li>When <code>R_HOME=&quot;&quot;</code>, or is unset, RCall will try to locate <code>R_HOME</code> by asking the copy of R in your <code>PATH</code> and then –- on Windows only –- by checking the registry.</li><li>When <code>R_HOME=&quot;_&quot;</code>, you opt out of all attempts to automatically locate R.</li></ul><p>In case no R installation is found or given at build time, the build will complete with a warning, but no error. RCall.jl will not be importable until you set a location for R <a href="#Customizing-the-R-installation-using-Julia&#39;s-Preferences-system">using the Preferences system</a>.</p><div class="admonition is-info"><header class="admonition-header">R_HOME-based R installation is shared</header><div class="admonition-body"><p>When the R installation is configured at RCall.jl install time, the absolute path to the R installation is currently hard-coded into the RCall.jl package, which can be shared between projects. This may cause problems if you are using different R installations for different projects which end up using the same copy of RCall.jl. In this case, please <a href="#Customizing-the-R-installation-using-Julia&#39;s-Preferences-system">use the Preferences system instead</a> which keeps different copies of the compiled RCall for different R installations. You do not need to rebuild RCall.jl manually for this, simply setting the relevant preferences will trigger rebuilds as necessary.</p></div></div><h2 id="Standard-installations"><a class="docs-heading-anchor" href="#Standard-installations">Standard installations</a><a id="Standard-installations-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-installations" title="Permalink"></a></h2><p>If you want to install R yourself, rather than relying on the automatic Conda installation, you can use one of the following options:</p><h3 id="Windows"><a class="docs-heading-anchor" href="#Windows">Windows</a><a id="Windows-1"></a><a class="docs-heading-anchor-permalink" href="#Windows" title="Permalink"></a></h3><p>The current <a href="https://cran.r-project.org/bin/windows/base/">Windows binary from CRAN</a>.</p><h3 id="OS-X"><a class="docs-heading-anchor" href="#OS-X">OS X</a><a id="OS-X-1"></a><a class="docs-heading-anchor-permalink" href="#OS-X" title="Permalink"></a></h3><p>The <a href="https://cran.r-project.org/bin/macosx/">CRAN .pkg</a> or the <a href="https://github.com/Homebrew/homebrew-science">homebrew/science</a> tap.</p><h3 id="Linux"><a class="docs-heading-anchor" href="#Linux">Linux</a><a id="Linux-1"></a><a class="docs-heading-anchor-permalink" href="#Linux" title="Permalink"></a></h3><p>Most Linux distributions allow installation of R from their package manager, however these are often out of date, and may not work with RCall.jl. We recommend that you use the updated repositories from <a href="https://cran.r-project.org/bin/linux/">CRAN</a>.</p><h4 id="Ubuntu"><a class="docs-heading-anchor" href="#Ubuntu">Ubuntu</a><a id="Ubuntu-1"></a><a class="docs-heading-anchor-permalink" href="#Ubuntu" title="Permalink"></a></h4><p>The following will update R on recent versions of Ubuntu:</p><pre><code class="nohighlight hljs">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
sudo add-apt-repository -y &quot;deb http://cran.rstudio.com/bin/linux/ubuntu $(lsb_release -s -c)-cran40/&quot;
sudo apt-get update -y
sudo apt-get install -y r-base r-base-dev</code></pre><p>See also the official documentation on <a href="https://cloud.r-project.org/bin/linux/ubuntu/">CRAN: Ubuntu Packages For R</a>.</p><h3 id="Julia-1.8:-Failure-on-recent-Linux-distributions"><a class="docs-heading-anchor" href="#Julia-1.8:-Failure-on-recent-Linux-distributions">Julia ≤ 1.8: Failure on recent Linux distributions</a><a id="Julia-1.8:-Failure-on-recent-Linux-distributions-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-1.8:-Failure-on-recent-Linux-distributions" title="Permalink"></a></h3><p>The version of <code>libstdc++</code> shipped by Julia might be outdated if you are using a recent Linux distribution (e.g. Ubuntu 19.10) and make use of certain R packages (e.g. <code>Rcpp</code>). In this case RCall will fail with an error message looking similar to this:</p><pre><code class="nohighlight hljs">Error: package or namespace load failed for ‘package’ in dyn.load(file, DLLpath = DLLpath, ...):
unable to load shared object &#39;/home/user/R/x86_64-pc-linux-gnu-library/3.6/Rcpp/libs/Rcpp.so&#39;:
/home/user/julia-1.3.1/bin/../lib/julia/libstdc++.so.6: version `GLIBCXX_3.4.26&#39; not found 
(required by /home/user/R/x86_64-pc-linux-gnu-library/3.6/Rcpp/libs/Rcpp.so)</code></pre><p>This issue was fixed in Julia 1.9 (see https://github.com/JuliaLang/julia/issues/34276) but a workaround for older Julia versions is to replace Julia&#39;s <code>libstdc++</code> with the one of your OS:</p><pre><code class="nohighlight hljs"># works for Ubuntu 19.10 64-bit - match your locations accordingly!
cp /usr/lib/x86_64-linux-gnu/libstdc++.so.6 $JULIA_HOME/lib/julia/</code></pre><p>This problem doesn&#39;t affect Julia ≥ 1.9!</p><h3 id="Other-methods"><a class="docs-heading-anchor" href="#Other-methods">Other methods</a><a id="Other-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Other-methods" title="Permalink"></a></h3><p>If you have installed R by some other method (e.g. building from scratch, or files copied but not installed in the usual manner), which often happens on cluster installations, then you may need to set <code>R_HOME</code> or your <code>PATH</code> as described above before running <code>Pkg.build(&quot;RCall&quot;)</code> in order for the build script to find your R installation. RCall requires R to be installed with its shared library. It could be done with the flag <code>--enable-R-shlib</code>, consult your server administrator to see if it was the case.</p><p>For some environments, you might also need to specify <code>LD_LIBRARY_PATH</code></p><pre><code class="language-sh hljs">export LD_LIBRARY_PATH=&quot;$LD_LIBRARY_PATH:`R RHOME`/lib&quot;</code></pre><h2 id="Updating-R"><a class="docs-heading-anchor" href="#Updating-R">Updating R</a><a id="Updating-R-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-R" title="Permalink"></a></h2><p>If you have updated your R installation, you may need to re-run <code>Pkg.build(&quot;RCall&quot;)</code> as described above, possibly changing the <code>R_HOME</code> environment variable first.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../gettingstarted/">Getting Started »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Tuesday 22 April 2025 19:05">Tuesday 22 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
